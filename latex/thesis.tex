%\documentclass[pdftex,10pt,a4paper,twoside,openright]{scrreprt}
%\documentclass[pdftex,10pt,a4paper,twoside,openright]{scrbook} %12pt is offiziell
\documentclass[%pdftex,
	11pt,
	a4paper,
	%twoside,
	oneside,
	%openright,
	parskip=half,   % Halbe Zeile Abstand zwischen Absätzen.
	headsepline,    % Linie nach Kopfzeile.
	footsepline,    % Linie vor Fusszeile.
	abstracton,     % Abstract Überschriften
	english        % Translator
	]{scrbook}
%\documentclass[10pt,a4paper]{report}

% not with xetex
%\usepackage[utf8x]{inputenc}
\usepackage{ucs}
\usepackage{amsmath}
\usepackage{sidecap}
%\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage[xetex]{graphicx}
\usepackage{fontspec,xunicode}
\defaultfontfeatures{Mapping=tex-text,Scale=MatchLowercase}
\setmainfont{Calluna}
%\setsansfont{Avenir Next}
\setsansfont[Scale=1.05]{Source Sans Pro}
\setmonofont{Source Code Pro}
\usepackage{xltxtra}
\usepackage{eso-pic}
\newcommand\BackgroundPic{
\put(0,0){
\parbox[b][0.38\paperheight]{1.1\paperwidth}{%
\vfill
%\centering
\hspace{-0.5cm}
\includegraphics[width=1.1\paperwidth,
keepaspectratio]{img/pattern.png}%
%\vfill
}}}

% Glossar
\usepackage[
	nonumberlist, %keine Seitenzahlen anzeigen
	acronym,      %ein Abkürzungsverzeichnis erstellen
	%section,     %im Inhaltsverzeichnis auf section-Ebene erscheinen
	toc,          %Einträge im Inhaltsverzeichnis
]{glossaries}
%\usepackage{graphicx}
\usepackage{colortbl}
%\usepackage{url}
\usepackage{float}
\usepackage{color}
\usepackage{xcolor}
\usepackage{caption}
%\usepackage{courier}
\usepackage[chapter]{minted}
\usepackage[onehalfspacing]{setspace}
% Index-Erstellung
%\usepackage{makeidx}
\usepackage[scale=0.75]{geometry} % Um die Titelseite zu zentrieren
\usepackage[english]{babel}
\usepackage[babel,german=quotes]{csquotes}
% Spezielle Tabellenform fuer Deckblatt
\usepackage{longtable}
\usepackage{harvardold}
% Fussnoten
\usepackage[perpage, hang, multiple, stable]{footmisc}
% Verschiedene Schriftarten

% Benutze die mylist-Umgebung, um nachher Hanging Bullets zu bekommen. Viel schöner :)
\usepackage{enumitem}
\newlist{mylist}{itemize}{1}
\setlist[mylist]{label=\textbullet,labelindent=-.5in,leftmargin=0pt,labelsep=.25in}

\usepackage{tocloft}

%\setlength\cftparskip{-2pt}
\setlength\cftbeforechapskip{2pt}


% bei two-side, da sonst paragraphen über die ganze seite gestreckt werden
\raggedbottom

% Placeholders
\newcommand{\titel}{Making scope explorable in Software Development Environments to support understanding and reduce defects\\\small{Design of a static analysis tool for scope exploration}}
\newcommand{\autor}{Tim von Oldenburg}
\newcommand{\arbeit}{An analysis of how the MVC pattern is being shifted to the client side}
\newcommand{\matrikelnr}{0834311}
\newcommand{\kurs}{TIT09AIA}
\newcommand{\datumAbgabe}{September 2012}
\newcommand{\firma}{IBM Deutschland MBS GmbH}
\newcommand{\firmenort}{Herrenberg}
\newcommand{\abgabeort}{Stuttgart}
\newcommand{\abschluss}{Master of Science}
\newcommand{\studiengang}{Interaction Design}
\newcommand{\dhbw}{Stuttgart}
\newcommand{\supervisor}{Lars Holmberg} % evtl. mit Titel
\newcommand{\zeitraum}{10 weeks}

\PassOptionsToPackage{hyphens}{url}
% PDF Einstellungen
\usepackage[%
	pdftitle={\pdftitel},
	pdfauthor={\autor},
	pdfsubject={\arbeit},
	pdfcreator={pdflatex, LaTeX with KOMA-Script},
	pdfpagemode=UseOutlines, % Beim Oeffnen Inhaltsverzeichnis anzeigen
	pdfdisplaydoctitle=true, % Dokumenttitel statt Dateiname anzeigen.
	pdflang=eng,
	unicode=true % Sprache des Dokuments.
]{hyperref}
\renewcommand{\UrlBreaks}{\do\/\do\a\do\b\do\c\do\d\do\e\do\f\do\g\do\h\do\i\do\j\do\k\do\l\do\m\do\n\do\o\do\p\do\q\do\r\do\s\do\t\do\u\do\v\do\w\do\x\do\y\do\z\do\A\do\B\do\C\do\D\do\E\do\F\do\G\do\H\do\I\do\J\do\K\do\L\do\M\do\N\do\O\do\P\do\Q\do\R\do\S\do\T\do\U\do\V\do\W\do\X\do\Y\do\Z}

\input{preamble.tex}

\makeglossaries
\input{glossary.tex}

% I have no idea what I'm doing...
%\renewcommand\listoflistingscaption{List of Listings}

\title{\titel}
\author{\autor}

\begin{document}

\input{title}
%\maketitle
\newpage
\thispagestyle{empty}
\mbox{}
%\newpage
%\thispagestyle{empty}
%\mbox{}
%\input{erklaerung}
%\newpage
%\thispagestyle{empty}
%\mbox{}
%\newpage
%\clearpage

\chapter*{Abstract}
\thispagestyle{empty}
%\begin{abstract}
\input{abstract.tex}
%\end{abstract}

\newpage
\thispagestyle{empty}
\mbox{}
\newpage
\pagenumbering{roman}
\setcounter{page}{1}
\printglossary[type=\acronymtype] % prints just the list of acronyms

%\clearpage
\newpage
\thispagestyle{empty}
\mbox{}

\makeatletter
\renewcommand{\@pnumwidth}{2.25em}
\renewcommand{\@tocrmarg}{2.25em}
\makeatother

\tableofcontents



\newpage
\pagenumbering{arabic}
\input{intro.tex}
\input{research.tex}
\input{exploration.tex}
\input{concepts.tex}
\input{ideation.tex}
\input{design.tex}
\input{conclusion.tex}

%\newpage
\newpage
\thispagestyle{empty}
\mbox{}
\newpage
 %neue Seite, damit Link auf Seitenanfang zeigt
%\phantomsection %notwendig, damit Link nicht unterhalb der Überschrift zeigt
%\addcontentsline{toc}{chapter}{Bibliography} %Eintrag im Inhaltsverzeichnis



\bibliographystyle{agsm}
\phantomsection
\setcounter{page}{1}
\pagenumbering{Roman}
\addcontentsline{toc}{chapter}{Bibliography}
\bibliography{thesis}

% Uncomment to enable list of figures

\newpage
\setlength{\cftparskip}{-0.8pt}
\phantomsection
\addcontentsline{toc}{chapter}{List of Figures}

% don't uncomment the following two lines, for whatever reason
%\setlength\cftbeforechapskip{4pt}
%\setlength\cftbeforefigskip{4pt}

\listoffigures

% Uncomment to enable list of tables

%\newpage
%\thispagestyle{empty}
%\mbox{}
%\newpage
%\newpage
%\phantomsection
%\addcontentsline{toc}{chapter}{List of Tables}
%\listoftables

% Uncomment to enable list of listings

% \newpage
% \listoflistings
% \addcontentsline{toc}{chapter}{List of Listings}

% Uncomment to enable glossary

% \newpage
% \printglossary{}

% Uncomment to enable appendix

\chapter*{Appendix}
\renewcommand*{\chaptermarkformat}{}
\renewcommand*{\sectionmarkformat}{}
\chaptermark{Appendix}
\sectionmark{Appendix}
\addcontentsline{toc}{chapter}{Appendix}
\input{appendix.tex}

\end{document}
